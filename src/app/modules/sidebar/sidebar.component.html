<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />

<header>
    <nav id="sidebarMenu" class="collapse d-lg-block sidebar collapse bg-white" fixed-left>
        <!-- <div style="text-align: center;margin-top: 3vh;">
            <a href="profile" role="button">
                <img src="https://mdbcdn.b-cdn.net/img/new/avatars/8.webp" class="rounded-circle mb-2" style="width: 80px;"alt="Avatar"/>
            </a>
            <h4 class="mb-2"><strong>{{firstName}} {{lastName}}</strong></h4>
            <p class="text-muted">Designer <span class="badge bg-primary" *ngIf="role == 'Admin'">ADMIN</span></p> 
        </div> -->

        <div class="position-sticky">
            <div class="list-group list-group-flush mx-3 mt-4" *ngFor="let menu of menus" role="tablist">
                <div *ngIf="!hasMenus(menu)">
                    <a id= "menu.id" [routerLink]="menu.route" (click)="activate(menu.id)" 
                    [ngClass]="menu.active ? 'list-group-item list-group-item-action py-2 ripple active' 
                    : 'list-group-item list-group-item-action py-2 ripple inactive'">
                        <mat-icon>{{menu.icon}}</mat-icon><span>{{menu.name}}</span>
                    </a>
                </div>
                <div *ngIf="hasMenus(menu)">
                    <a id= "menu.id" (click)="rotate()"
                    [ngClass]="menu.active ? 'list-group-item list-group-item-action py-2 ripple active' 
                    : 'list-group-item list-group-item-action py-2 ripple inactive'" 
                    data-bs-toggle="collapse" href="#collapseExample" role="button" 
                    aria-expanded="false" aria-controls="collapseExample">
                        <mat-icon>{{menu.icon}}</mat-icon><span>{{menu.name}}</span>
                        <span [@rotatedState]='state' class="material-symbols-outlined" 
                         style="float: right;width: 20px">
                            chevron_right
                        </span>
                    </a>
                    <div class="collapse" id="collapseExample" *ngFor="let sub of menu.menus">
                        <div class="list-group list-group-flush mx-3 mt-4">
                            <a id= "sub.id" [routerLink]="sub.route" (click)="activate(sub.id)" 
                            [ngClass]="sub.active ? 'list-group-item list-group-item-action py-2 ripple active' 
                            : 'list-group-item list-group-item-action py-2 ripple inactive'">
                                {{sub.name}}
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>
    
    
</header>

<main style="margin-top: 58px;">
    <div class="container pt-4">
        <div *ngFor="let menu of menus">
            <div *ngIf="menu.active && menu.route == '/home/profile'"><profile-cmp></profile-cmp></div>
            <div class="tab-content" *ngFor="let sub of menu.menus">
                <div *ngIf="sub.active && sub.route == '/home/dashboard'"><app-analytics></app-analytics></div>
                <div *ngIf="sub.active && sub.route == '/home/manage-members'"><app-manage-members></app-manage-members></div>
            </div>  

            
        </div>
    </div>
</main>


<!-- Do not use this -->
<!-- <mat-sidenav-container fullscreen style="margin-top: 51px;">
    <mat-sidenav mode="side" opened style="width: 200px;">
        <div style="text-align: center;margin-top: 3vh;">
            <a href="profile" role="button">
                <img src="https://mdbcdn.b-cdn.net/img/new/avatars/8.webp" class="rounded-circle mb-2" style="width: 80px;"alt="Avatar"/>
            </a>
            <h4 class="mb-2"><strong>{{firstName}} {{lastName}}</strong></h4>
            <p class="text-muted">Designer <span class="badge bg-primary" *ngIf="role == 'Admin'">ADMIN</span></p> 
        </div>
        <div role="button" onclick=""><mat-icon>list</mat-icon> Activity Stream</div>
        <mat-button-toggle-group #toggleBtn="matButtonToggleGroup" name="favoriteColor" aria-label="Favorite Color" style="border: none;align-items: left;margin-top: 3vh;" vertical>
            <mat-button-toggle checked value="activity" style="border: none;margin-left: 2.5mm; width: 180px;justify-content: left;"><mat-icon style="margin-right: 2mm;">list</mat-icon><strong>Activity Stream</strong></mat-button-toggle>
            <mat-button-toggle *ngIf="role == 'Admin'" value="dashboard" style="border: none;margin-left: 2.5mm; width: 180px;justify-content: left;"><mat-icon style="margin-right: 2mm;">dashboard</mat-icon><strong>Dashboard</strong></mat-button-toggle>
        </mat-button-toggle-group>
    </mat-sidenav>
    <mat-sidenav-content>
        <p>You have selected {{toggleBtn.value}}</p>
    </mat-sidenav-content>
</mat-sidenav-container> -->

